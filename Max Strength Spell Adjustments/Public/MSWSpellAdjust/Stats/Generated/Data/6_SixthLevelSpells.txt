// ==========================================================================
// Sixth Level Spells

// ==========================================================================
// Flesh to Gold

new entry "Target_TWN_Tollhouse_FleshToGold"
type "SpellData"
data "SpellType" "Target"
using "Target_TWN_Tollhouse_FleshToGold"
data "SpellSuccess" "ApplyStatus(TWN_TOLLHOUSE_FLESH_TO_GOLD_1,100,-1)"
data "Icon" "Spell_Transmutation_FleshToGold"
data "Description" "h19cead1f6a864e89ac0cf9db5976369771fc;1"
data "DescriptionParams" "3"
data "ExtraDescription" "h742920992bf54588a2087c3f6ca8d0c4f729;1"
data "TooltipStatusApply" "ApplyStatus(TWN_TOLLHOUSE_GOLDIFIED,100,-1)"

new entry "Target_TWN_Tollhouse_FleshToGold_7"
type "SpellData"
data "SpellType" "Target"
using "Target_TWN_Tollhouse_FleshToGold"
data "UseCosts" "ActionPoint:1;SpellSlotsGroup:1:1:7"
data "RootSpellID" "Target_TWN_Tollhouse_FleshToGold"
data "PowerLevel" "7"

new entry "Target_TWN_Tollhouse_FleshToGold_8"
type "SpellData"
data "SpellType" "Target"
using "Target_TWN_Tollhouse_FleshToGold"
data "UseCosts" "ActionPoint:1;SpellSlotsGroup:1:1:8"
data "RootSpellID" "Target_TWN_Tollhouse_FleshToGold"
data "PowerLevel" "8"

new entry "Target_TWN_Tollhouse_FleshToGold_9"
type "SpellData"
data "SpellType" "Target"
using "Target_TWN_Tollhouse_FleshToGold"
data "UseCosts" "ActionPoint:1;SpellSlotsGroup:1:1:9"
data "RootSpellID" "Target_TWN_Tollhouse_FleshToGold"
data "PowerLevel" "9"

new entry "TWN_TOLLHOUSE_FLESH_TO_GOLD_1"
type "StatusData"
data "StatusType" "BOOST"
using "TWN_TOLLHOUSE_FLESH_TO_GOLD_1"
data "OnRemoveFunctors" ""
data "OnTickRoll" "not SavingThrow(Ability.Constitution, SourceSpellDC())"
data "OnTickSuccess" "ApplyStatus(TWN_TOLLHOUSE_FLESH_TO_GOLD_2,100,-1)"
data "OnTickFail" "IF(StatusGroupDurationEqual(context.Target,'FLESH_TO_GOLD_SAVE',2)):RemoveStatus(FLESH_TO_GOLD_SAVE);ApplyStatus(FLESH_TO_GOLD_SAVE,100,1)"

new entry "TWN_TOLLHOUSE_FLESH_TO_GOLD_2"
type "StatusData"
data "StatusType" "BOOST"
using "TWN_TOLLHOUSE_FLESH_TO_GOLD_2"
data "OnRemoveFunctors" ""
data "OnTickSuccess" "ApplyStatus(TWN_TOLLHOUSE_FLESH_TO_GOLD_3,100,-1)"

new entry "TWN_TOLLHOUSE_FLESH_TO_GOLD_3"
type "StatusData"
data "StatusType" "BOOST"
using "TWN_TOLLHOUSE_FLESH_TO_GOLD_3"
data "OnRemoveFunctors" ""
data "OnTickSuccess" "ApplyStatus(TWN_TOLLHOUSE_GOLDIFIED,100,-1);RemoveStatus(TWN_TOLLHOUSE_FLESH_TO_GOLD_3)"

new entry "FLESH_TO_GOLD_SAVE"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "hf244924942254c3a81a501b8373ff571e746;1"
data "Description" "h0a101a9fg2238g4f58g9094g7849d0929063;1"
data "DescriptionParams" "3"
data "Icon" "Spell_Transmutation_FleshToGold"
data "StackId" "FLESH_TO_GOLD_SAVE"
data "StackType" "Additive"
data "RemoveConditions" "not HasAnyStatus({'TWN_TOLLHOUSE_FLESH_TO_GOLD_1','TWN_TOLLHOUSE_FLESH_TO_GOLD_2','TWN_TOLLHOUSE_FLESH_TO_GOLD_3'})"
data "RemoveEvents" "OnStatusRemoved"
data "StatusPropertyFlags" "FreezeDuration;DisableCombatlog"
data "OnRemoveFunctors" "RemoveStatus(TWN_TOLLHOUSE_FLESH_TO_GOLD_1);RemoveStatus(TWN_TOLLHOUSE_FLESH_TO_GOLD_2);RemoveStatus(TWN_TOLLHOUSE_FLESH_TO_GOLD_3)"

// ==========================================================================
// Gravity Fissure

new entry "Zone_ATT_GravityFissure"
type "SpellData"
data "SpellType" "Zone"
using "Zone_ATT_GravityFissure"
data "Range" "18"

// ==========================================================================
// Primordial Ward

new entry "Shout_PrimordialWard"
type "SpellData"
data "SpellType" "Shout"
using "Shout_PrimordialWard"
data "SpellProperties" "ApplyStatus(PRIMORDIAL_WARD,100,10)"
data "TooltipStatusApply" "ApplyStatus(PRIMORDIAL_WARD,100,10)"

new entry "Shout_PrimordialWard_7"
type "SpellData"
data "SpellType" "Shout"
using "Shout_PrimordialWard"
data "UseCosts" "ActionPoint:1;SpellSlotsGroup:1:1:7"
data "RootSpellID" "Shout_PrimordialWard"
data "PowerLevel" "7"

new entry "Shout_PrimordialWard_8"
type "SpellData"
data "SpellType" "Shout"
using "Shout_PrimordialWard"
data "UseCosts" "ActionPoint:1;SpellSlotsGroup:1:1:8"
data "RootSpellID" "Shout_PrimordialWard"
data "PowerLevel" "8"

new entry "Shout_PrimordialWard_9"
type "SpellData"
data "SpellType" "Shout"
using "Shout_PrimordialWard"
data "UseCosts" "ActionPoint:1;SpellSlotsGroup:1:1:9"
data "RootSpellID" "Shout_PrimordialWard"
data "PowerLevel" "9"

new entry "Interrupt_PrimordialWard"
type "InterruptData"
using "Interrupt_PrimordialWard"
data "Description" "hae393faa3197490ebb7b75b35a9a1a0d1bc9;1"
data "EnableCondition" "not HasStatus('SG_Polymorph') or HasAnyStatus({'SG_Disguise','WILDSHAPE_STARRY_ARCHER_PLAYER','WILDSHAPE_STARRY_CHALICE_PLAYER','WILDSHAPE_STARRY_DRAGON_PLAYER'}) and HasStatus('PRIMORDIAL_WARD') and not HasStatus('PRIMORDIAL_WARD_TECHNICAL')"

new entry "PRIMORDIAL_WARD_ACID"
type "StatusData"
data "StatusType" "BOOST"
using "PRIMORDIAL_WARD_ACID"
data "OnApplyFunctors" "RemoveStatus(PRIMORDIAL_WARD)"
data "OnRemoveFunctors" "BreakConcentration()"

new entry "PRIMORDIAL_WARD_COLD"
type "StatusData"
data "StatusType" "BOOST"
using "PRIMORDIAL_WARD_COLD"
data "OnApplyFunctors" "RemoveStatus(PRIMORDIAL_WARD)"
data "OnRemoveFunctors" "BreakConcentration()"

new entry "PRIMORDIAL_WARD_FIRE"
type "StatusData"
data "StatusType" "BOOST"
using "PRIMORDIAL_WARD_FIRE"
data "OnApplyFunctors" "RemoveStatus(PRIMORDIAL_WARD)"
data "OnRemoveFunctors" "BreakConcentration()"

new entry "PRIMORDIAL_WARD_LIGHTNING"
type "StatusData"
data "StatusType" "BOOST"
using "PRIMORDIAL_WARD_LIGHTNING"
data "OnApplyFunctors" "RemoveStatus(PRIMORDIAL_WARD)"
data "OnRemoveFunctors" "BreakConcentration()"

new entry "PRIMORDIAL_WARD_THUNDER"
type "StatusData"
data "StatusType" "BOOST"
using "PRIMORDIAL_WARD_THUNDER"
data "OnApplyFunctors" "RemoveStatus(PRIMORDIAL_WARD)"
data "OnRemoveFunctors" "BreakConcentration()"

// ==========================================================================
// Tenser's Transformation

new entry "Shout_TensersTransformation"
type "SpellData"
data "SpellType" "Shout"
using "Shout_TensersTransformation"
data "SpellProperties" "ApplyStatus(TENSERS_TRANSFORMATION,100,10)"
data "DisplayName" "h1091a605gffd9g47d2g92a9gea580c3fe53f;1"
data "Description" "h18d70482g6daeg40ddg8b80g38a245006e1f;1"
data "ExtraDescription" "h5cc3c512g5319g4746g8173gfa5355023e71;1"
data "ExtraDescriptionParams" "GainTemporaryHitPoints(50);DealDamage(2d12,Force)"
data "TooltipStatusApply" "ApplyStatus(TENSERS_TRANSFORMATION,100,10)"
data "TooltipUpcastDescription" "6ff1780a-855a-414c-a8bf-811251537206"
data "TooltipPermanentWarnings" "fd285819-5eb0-4df1-be73-ca2eebff294c"
data "SpellFlags" "HasVerbalComponent;HasSomaticComponent;IsSpell;IsConcentration"

new entry "Shout_TensersTransformation_7"
type "SpellData"
data "SpellType" "Target"
using "Shout_TensersTransformation"
data "UseCosts" "ActionPoint:1;SpellSlotsGroup:1:1:7"
data "RootSpellID" "Shout_TensersTransformation"
data "PowerLevel" "7"

new entry "Shout_TensersTransformation_8"
type "SpellData"
data "SpellType" "Target"
using "Shout_TensersTransformation"
data "UseCosts" "ActionPoint:1;SpellSlotsGroup:1:1:8"
data "RootSpellID" "Shout_TensersTransformation"
data "PowerLevel" "8"

new entry "Shout_TensersTransformation_9"
type "SpellData"
data "SpellType" "Target"
using "Shout_TensersTransformation"
data "UseCosts" "ActionPoint:1;SpellSlotsGroup:1:1:9"
data "RootSpellID" "Shout_TensersTransformation"
data "PowerLevel" "9"

new entry "TENSERS_TRANSFORMATION"
type "StatusData"
data "StatusType" "BOOST"
using "TENSERS_TRANSFORMATION"
data "DisplayName" "h1091a605gffd9g47d2g92a9gea580c3fe53f;1"
data "Description" "h36892695gc354g4b89gb61egcf006641c203;1"
data "DescriptionParams" "GainTemporaryHitPoints(50);DealDamage(2d12,Force)"
data "StackId" "TENSERS_TRANSFORMATION"
data "StackPriority" "1"
data "Boosts" "UnlockSpell(Shout_TensersTransformation_Dismiss);BlockSpellCast();IF(IsWeaponAttack()):Advantage(AttackRoll);CharacterWeaponDamage(2d12,Force);Proficiency(LightArmor);Proficiency(MediumArmor);Proficiency(HeavyArmor);Proficiency(Shields);Proficiency(SimpleWeapons);Proficiency(MartialWeapons);ProficiencyBonus(SavingThrow,Strength);ProficiencyBonus(SavingThrow,Constitution);ScaleMultiplier(1.1)"
data "OnApplyFunctors" "ApplyStatus(TENSERS_TRANSFORMATION_TEMP_HP,100,-1)"
data "OnRemoveFunctors" "RemoveStatus(TENSERS_TRANSFORMATION_TEMP_HP)"
data "OnRemoveRoll" "SavingThrow(Ability.Constitution, 15)"
data "OnRemoveFail" "IF(HasStatus('EXHAUSTION_5')):ApplyStatus(EXHAUSTION_6); IF(HasStatus('EXHAUSTION_4')):ApplyStatus(EXHAUSTION_5); IF(HasStatus('EXHAUSTION_3')):ApplyStatus(EXHAUSTION_4); IF(HasStatus('EXHAUSTION_2')):ApplyStatus(EXHAUSTION_3); IF(HasStatus('EXHAUSTION_1')):ApplyStatus(EXHAUSTION_2); IF(not HasAnyStatus({'EXAUSTION_1','EXHAUSTION_2','EXAUSTION_3','EXAUSTION_4','EXHAUSTION_5'},{},{},context.Target)):ApplyStatus(EXHAUSTION_1,100,-1)"
data "StatusGroups" "SG_RemoveOnRespec"

// ==========================================================================
// True Seeing

new entry "Target_TrueSeeing"
type "SpellData"
data "SpellType" "Target"
using "Target_TrueSeeing"
data "SpellSchool" "Divination"
data "AIFlags" ""
data "SpellProperties" "ApplyStatus(TRUESIGHT,100,-1)"
data "TooltipStatusApply" "ApplyStatus(TRUESIGHT,100,-1)"
data "CastSound" "Spell_Cast_Utility_TrueSeeing_L6to8"
data "TargetSound" ""
data "PrepareEffect" "a342c8d6-147f-4d3b-b2b7-0fd6e7d321da"
data "CastEffect" "2cf648d8-7bf6-43dc-ac73-7b4050f8214e"
data "TargetEffect" "8b81c8b3-2d21-44fc-a54a-99224d32ea9a"

new entry "TRUESIGHT"
type "StatusData"
data "StatusType" "BOOST"
using "TRUESIGHT"
data "OnApplyFunctors" "ApplyStatus(TRUESIGHT_SEE_TRUEFORM,100,-1)"

